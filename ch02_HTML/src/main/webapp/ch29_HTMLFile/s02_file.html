
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이미지 미리 보기</title>
<script type="text/javascript">
window.onload=function(){
	//미리보기 이미지가 표시되는 img 태그
	const image = document.getElementById('image');
	
	const file = document.getElementById('file');
	//이벤트 연결
	file.onchange=function(){
		if(!file.files[0]){//if(file.files[0] == undefined)
			alert('파일을 선택하세요!');
			//기본 이미지 노출
			image.src='../files/logo.png';
			return;
		}
		
		//FileReader 객체 생성
		const reader = new FileReader();
		//이미지 읽기 
		// .readAsDataURL => 파일을 읽은 내용은 reader.result에 저장됨
		reader.readAsDataURL(file.files[0]);
		
		reader.onload=function(){
			//image.setAttribute('src',reader.result);
			image.src = reader.result;
			// URL 주소를 포함하고 있으므로 src를 불러오겠단 설정을 하면 url로 제대로 세팅이 가능
		};
	};
};
</script>
</head>
<body>
<h2>이미지 미리 보기</h2>
<div>
	<img id="image" src="../files/face.png" width="200"
	                   height="200" alt="Image Preview">                   
</div>
<input type="file" id="file" 
                  accept="image/gif,image/png,image/jpeg">
</body>
</html>


